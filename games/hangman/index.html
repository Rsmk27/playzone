<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hangman ‚Äì PlayZone</title>
    <script src="../../scripts/mobile-controls.js"></script>
<style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: system-ui, -apple-system, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        .container {
            background: white;
            border-radius: 20px;
            padding: 40px;
            max-width: 700px;
            width: 100%;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        h1 {
            text-align: center;
            color: #667eea;
            margin-bottom: 30px;
            font-size: 2.5em;
        }
        #hangman-canvas {
            display: block;
            margin: 0 auto 30px;
            border: 3px solid #eee;
            border-radius: 10px;
        }
        #word-display {
            text-align: center;
            font-size: 3em;
            letter-spacing: 10px;
            margin-bottom: 30px;
            font-family: monospace;
            color: #333;
            min-height: 80px;
        }
        .keyboard {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 8px;
            margin-bottom: 20px;
        }
        .key {
            padding: 15px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: bold;
            transition: all 0.3s;
        }
        .key:hover:not(:disabled) {
            background: #5568d3;
            transform: translateY(-2px);
        }
        .key:disabled {
            background: #ccc;
            cursor: not-allowed;
            opacity: 0.5;
        }
        .key.wrong {
            background: #ef4444;
        }
        .info {
            text-align: center;
            font-size: 1.2em;
            margin-bottom: 20px;
            color: #666;
        }
        .info span {
            font-weight: bold;
            color: #667eea;
        }
        .message {
            text-align: center;
            font-size: 1.5em;
            margin: 20px 0;
            font-weight: bold;
        }
        .message.win { color: #10b981; }
        .message.lose { color: #ef4444; }
        button.new-game {
            display: block;
            margin: 20px auto;
            padding: 15px 40px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.2em;
            cursor: pointer;
            transition: all 0.3s;
        }
        button.new-game:hover {
            background: #5568d3;
            transform: translateY(-2px);
        }
        .home-btn {
            background: #6b7280;
        }
        .home-btn:hover {
            background: #4b5563;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üî§ Hangman</h1>
        
        <canvas id="hangman-canvas" width="300" height="300"></canvas>
        
        <div id="word-display"></div>
        
        <div class="info">
            <span id="wrong-guesses">0</span> / 6 wrong guesses
            <br>
            Score: <span id="score">0</span>
        </div>
        
        <div class="message" id="message"></div>
        
        <div class="keyboard" id="keyboard"></div>
        
        <button class="new-game" onclick="newGame()">New Game</button>
        <a href="../../index.html" style="text-decoration: none;">
            <button class="new-game home-btn">‚Üê Back to Home</button>
        </a>
    </div>

    <script>
        const words = [
            'JAVASCRIPT', 'PYTHON', 'PROGRAMMING', 'COMPUTER', 'KEYBOARD',
            'INTERNET', 'DATABASE', 'ALGORITHM', 'DEVELOPER', 'SOFTWARE',
            'HARDWARE', 'NETWORK', 'SECURITY', 'FUNCTION', 'VARIABLE',
            'DOCUMENT', 'BROWSER', 'APPLICATION', 'TECHNOLOGY', 'DIGITAL'
        ];

        let currentWord = '';
        let guessedLetters = [];
        let wrongGuesses = 0;
        let score = 0;
        const maxWrong = 6;

        const canvas = document.getElementById('hangman-canvas');
        const ctx = canvas.getContext('2d');

        function initKeyboard() {
            const keyboard = document.getElementById('keyboard');
            keyboard.innerHTML = '';
            const letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
            
            for (let letter of letters) {
                const button = document.createElement('button');
                button.className = 'key';
                button.textContent = letter;
                button.onclick = () => guessLetter(letter, button);
                keyboard.appendChild(button);
            }
        }

        function drawHangman() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 3;

            // Base
            if (wrongGuesses >= 0) {
                ctx.beginPath();
                ctx.moveTo(20, 280);
                ctx.lineTo(180, 280);
                ctx.stroke();
            }

            // Pole
            if (wrongGuesses >= 1) {
                ctx.beginPath();
                ctx.moveTo(60, 280);
                ctx.lineTo(60, 20);
                ctx.stroke();
            }

            // Top
            if (wrongGuesses >= 2) {
                ctx.beginPath();
                ctx.moveTo(60, 20);
                ctx.lineTo(160, 20);
                ctx.stroke();
            }

            // Rope
            if (wrongGuesses >= 3) {
                ctx.beginPath();
                ctx.moveTo(160, 20);
                ctx.lineTo(160, 60);
                ctx.stroke();
            }

            // Head
            if (wrongGuesses >= 4) {
                ctx.beginPath();
                ctx.arc(160, 80, 20, 0, Math.PI * 2);
                ctx.stroke();
            }

            // Body
            if (wrongGuesses >= 5) {
                ctx.beginPath();
                ctx.moveTo(160, 100);
                ctx.lineTo(160, 180);
                ctx.stroke();
            }

            // Arms & Legs
            if (wrongGuesses >= 6) {
                // Arms
                ctx.beginPath();
                ctx.moveTo(160, 120);
                ctx.lineTo(130, 150);
                ctx.moveTo(160, 120);
                ctx.lineTo(190, 150);
                // Legs
                ctx.moveTo(160, 180);
                ctx.lineTo(130, 230);
                ctx.moveTo(160, 180);
                ctx.lineTo(190, 230);
                ctx.stroke();
            }
        }

        function displayWord() {
            const display = currentWord.split('').map(letter => 
                guessedLetters.includes(letter) ? letter : '_'
            ).join(' ');
            document.getElementById('word-display').textContent = display;
        }

        function guessLetter(letter, button) {
            if (guessedLetters.includes(letter)) return;
            
            guessedLetters.push(letter);
            button.disabled = true;
            
            if (!currentWord.includes(letter)) {
                wrongGuesses++;
                button.classList.add('wrong');
                document.getElementById('wrong-guesses').textContent = wrongGuesses;
                drawHangman();
                
                if (wrongGuesses >= maxWrong) {
                    endGame(false);
                }
            } else {
                displayWord();
                
                if (currentWord.split('').every(l => guessedLetters.includes(l))) {
                    endGame(true);
                }
            }
        }

        function endGame(won) {
            const keys = document.querySelectorAll('.key');
            keys.forEach(key => key.disabled = true);
            
            const message = document.getElementById('message');
            if (won) {
                score++;
                document.getElementById('score').textContent = score;
                message.textContent = 'üéâ You won!';
                message.className = 'message win';
            } else {
                message.textContent = `üòû Game Over! Word was: ${currentWord}`;
                message.className = 'message lose';
            }
        }

        function newGame() {
            currentWord = words[Math.floor(Math.random() * words.length)];
            guessedLetters = [];
            wrongGuesses = 0;
            
            document.getElementById('wrong-guesses').textContent = '0';
            document.getElementById('message').textContent = '';
            
            initKeyboard();
            displayWord();
            drawHangman();
        }

        newGame();
    </script>
</body>
</html>
